<% layout("/layouts/boilerplate") %>

    <!-- <h3 class="text-center">All Listings</h3> -->
     <style>
        #filters{
            display:flex;
            flex-wrap:wrap;
            align-items:center;

        }
        .filter{
            text-align: center;
            margin-right:2rem;
            margin-top: 2rem;
            opacity:0.7;
        }
        .filter:hover{
            opacity:1;
            cursor:pointer;
        }
        .filter p{
            font-size:0.8rem;
        }
        .tax-info{
            display:none;
        }
        .tax-toggle{
            border:1px solid black;
            border-radius:1rem;
            height:3.5rem;
            padding:1rem;
            
            display:flex;

        }
     </style>
     <div id="filters">
            <div class="filter">
                <div><i class="fa-solid fa-fire"></i></div>
                <p>Trending</p>
            </div>
              
            <!-- <div class="filter">
                <div><i class="fa-solid fa-house-circle-check"></i>
                </div>
                <p>Certified</p> 
            </div> -->
                 
               <div class="filter">
                <div>
                    <i class="fa-solid fa-house-signal"></i>
                </div>
                <p>Newtwork</p> 
               </div>
                
                <div class="filter">
                    <div><i class="fa-solid fa-film"></i>
                    </div>
                    <p>Theater</p>
                </div>
                
                <div class="filter">
                    <div><i class="fa-solid fa-people-roof"></i>
                    </div>
                        <p>Roof Top</p>
                </div>
                <div class="filter">
                    <div><i class="fa-solid fa-city"></i>
                    </div>
                         <p>Iconic cities</p> 
                </div>
                 <div class="filter">
                    <div><i class="fa-solid fa-umbrella-beach"></i>
                    </div>
                        <p>Beach</p>
                 </div>
                  <div class="filter">
                    <div><i class="fa-solid fa-street-view"></i>
                    </div>
                         <p>Street View</p>
                  </div>
                  <div class="filter">
                    <div><i class="fa-solid fa-fire"></i></div>
                    <p>Trending</p>
                  </div>
                    <div class="filter">
                        <div><i class="fa-regular fa-snowflake"></i></div>
                        <p>Arxtic</p>
                    </div>
                    <div class="filter">
                        <div><i class="fa-solid fa-landmark-dome"></i></div>
                        <p>Domes</p>
                    </div>
                    <div class="filter">
                        <div><i class="fa-solid fa-sailboat"></i></div>
                        <p>boats</p>
                    </div>

                        <div class="tax-toggle">
                            <div class="form-check-reverse form-switch">
                                <input class="form-check-input" 
                                type="checkbox" role="switch" 
                                id="flexSwitchCheckDefault">
                                <label class="form-check-label" for="flexSwitchCheckDefault">Default switch checkbox input</label>
                              </div>
                        </div>
                        

                </div>
                   
     </div>

    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 g-4">
        <% for(let listing of allListings) { %>
            <a href="/listings/<%=listing._id%>" style="text-decoration: none">      
        <div class="col">
            <div class="card h-100">
                <% if (listing.image) { %>
                    <img src="<%= listing.image.url %>" class="card-img-top" alt="Listing Image" onerror="this.src='https:images.unsplash.com/photo-1612345678901-abcdef123456';">
                <% } else { %>
                    <img src="https://images.unsplash.com/photo-1612345678901-abcdef123456" class="card-img-top" alt="Default Image">
                <% } %>
                <div class="card-img-overlay">abcd</div>
                <div class="card-body">
                    <h5 class="card-title"><b><%= listing.title %></b></h5>
                    
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">&#8377;<%= listing.price.toLocaleString('en-IN') %>/night
                         <i class="tax-info"> &nbsp;+18% GST</i></li>
                    
                </ul>    
            </div>

        </div>
        </a>
        <% } %>
    </div>


<script>
    let taxSwitch=document.getElementById("flexSwitchCheckDefault");
    taxSwitch.addEventListener("click",()=>{
        let taxInfo=document.getElementsByClassName("tax-info");
        for (info of taxInfo)  {
            if(info.style.display !="inline"){
                info.style.display="inline";
            }else{
                info.style.display="none";
            }
            
        }
        
    })
</script>

   